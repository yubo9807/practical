import{p as F}from"./@babel-e08cdc44.js";import{u as C,a as d,o as N,b as a,k as T,h as s,g as D,L as R}from"./pl-react-e0b35d5f.js";import{C as q,t as B,s as M,b as V,c as $}from"./source-8c541096.js";import{d as j,a as I}from"./index-bc8d6b9d.js";import"./debug-ddf39923.js";import"./ms-f6814399.js";import"./globals-aa9f7777.js";import"./@jridgewell-0ddd3491.js";import"./jsesc-4cfd8464.js";import"./picocolors-cddfbdbe.js";import"./js-tokens-bc2e8ff2.js";const J="page-utils-f86c23",K="navigation-62969b",P="content-bea58d",W="outline-690e4e",Y="total-307071",i={"page-utils":"page-utils-f86c23",pageUtils:J,navigation:K,content:P,outline:W,total:Y},st=S=>{const m=C(j),[l,E]=d([]),[r,k]=d(""),w=N(V,[]);async function f(t){const{keys:e,body:n}=await w;!l.length&&E(e);const c=e.find(p=>p===t);let o=n[c||e[0]];m.state.codeLanguage==="js"&&(o=B(o)),k(o)}const g=D();a(()=>g.monitor(async t=>{if(!t.path.startsWith(S.path))return;const e=t.path+".ts";f(e)}),[]);const[v,x]=d(!0);a(()=>{if(v){x(!1);return}const t=g.current.path+".ts";f(t)},[m.state.codeLanguage]);const u=N(()=>{const t=F(r,{sourceType:"module",plugins:["typescript"]}),e=[];for(const n of t.program.body)if(n.type==="ExportNamedDeclaration"&&["FunctionDeclaration","ClassDeclaration"].includes(n.declaration.type)){const{loc:c,declaration:o}=n,{start:p,end:U}=c;e.push({start:p.line,end:U.line,name:o.id.name})}return e},[r]),y=T();function L(t){const e=y.current.getEl().getElementsByClassName("row-num")[0].childNodes;for(const n of e)if(n.getElementsByTagName("label")[0].textContent===t+""){M(n);break}}const h=()=>s("ul",{className:i.navigation},...l.map(t=>{const e=t.split("/")[2].replace(".ts","");return s("li",null,s(R,{to:t.split(".")[0]},e))})),b=C(I);return a(()=>{l.length&&b.dispatch({type:"menuSet",payload:h()})},[l]),a(()=>()=>{b.dispatch({type:"menuClear"})},[]),a(()=>{const t="$utils";return window[t]=$(),()=>{delete window[t]}},[]),s("div",{className:i.pageUtils},s("aside",null,h()),s("section",{className:i.content},s(q,{ref:y,value:r,lines:u})),s("aside",{className:i.outline},s("ul",null,...u.map(t=>s("li",{onclick:()=>L(t.start)},t.name))),s("div",{className:i.total},"total: ",u.length)))};export{st as default};
